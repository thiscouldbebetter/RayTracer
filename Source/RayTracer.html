<html>
<body>

<div id="divUi">
	<h3>Ray Tracer</h3>

	<p>
		Enter a representation of a scene in JSON
		and click the button to render it as an image.
	</p>

	<div>
		<label>Scene as JSON:</label>
		<button onclick="buttonClear_Clicked();">Clear</button>
		<button onclick="buttonDemoLoad_Clicked();">Demo</button>
		<br />
		<textarea id="textareaSceneAsJson" cols="80" rows="25" spellcheck="false"></textarea>
		<br />
	</div>

	<button onclick="buttonRender_Clicked();">Render</button>

	<div>
		<label>Rendered Image:</label>
		<div id="divDisplay">[none]</div>
	</div>

</div>

<script type="text/javascript">

// UI event handlers.

function buttonClear_Clicked()
{
	var d = document;
	var textareaSceneAsJson =
		d.getElementById("textareaSceneAsJson");
	textareaSceneAsJson.value = "";
}

function buttonDemoLoad_Clicked()
{
	var d = document;
	var textareaSceneAsJson =
		d.getElementById("textareaSceneAsJson");

	var scene = Scene.demo();
	var sceneAsJson = scene.toJson();

	textareaSceneAsJson.value = sceneAsJson;
}

function buttonRender_Clicked()
{
	var d = document;
	var textareaSceneAsJson =
		d.getElementById("textareaSceneAsJson");

	var sceneAsJson = textareaSceneAsJson.value;

	var scene = Scene.fromJson(sceneAsJson);

	if (scene == null)
	{
		var errorMessage =
			"The specified JSON for the scene did not have the expected format.";
		alert(errorMessage);
	}
	else
	{
		var rayTracer = new RayTracer();
		rayTracer.sceneRender(scene);
	}
}

</script>

<script type="text/javascript" src="Display/Color.js"></script>
<script type="text/javascript" src="Display/Display.js"></script>
<script type="text/javascript" src="Display/Image.js"></script>
<script type="text/javascript" src="Display/Pane.js"></script>

<script type="text/javascript" src="Geometry/Bounds.js"></script>
<script type="text/javascript" src="Geometry/Collision.js"></script>
<script type="text/javascript" src="Geometry/Coords.js"></script>
<script type="text/javascript" src="Geometry/Edge.js"></script>
<script type="text/javascript" src="Geometry/Face.js"></script>
<script type="text/javascript" src="Geometry/Mesh.js"></script>
<script type="text/javascript" src="Geometry/MeshHelper.js"></script>
<script type="text/javascript" src="Geometry/Orientation.js"></script>
<script type="text/javascript" src="Geometry/Plane.js"></script>
<script type="text/javascript" src="Geometry/Polar.js"></script>
<script type="text/javascript" src="Geometry/Ray.js"></script>
<script type="text/javascript" src="Geometry/Shape.js"></script>
<script type="text/javascript" src="Geometry/Sphere.js"></script>
<script type="text/javascript" src="Geometry/Vertex.js"></script>

<script type="text/javascript" src="Geometry/Transforms/TransformMultiple.js"></script>
<script type="text/javascript" src="Geometry/Transforms/TransformOrient.js"></script>
<script type="text/javascript" src="Geometry/Transforms/TransformScale.js"></script>
<script type="text/javascript" src="Geometry/Transforms/TransformTranslate.js"></script>

<script type="text/javascript" src="Lighting/LightAmbient.js"></script>
<script type="text/javascript" src="Lighting/LightDirectional.js"></script>
<script type="text/javascript" src="Lighting/LightPoint.js"></script>
<script type="text/javascript" src="Lighting/Lighting.js"></script>

<script type="text/javascript" src="Utility/Cloneable.js"></script>
<script type="text/javascript" src="Utility/Constants.js"></script>
<script type="text/javascript" src="Utility/NumberHelper.js"></script>
<script type="text/javascript" src="Utility/Serializable.js"></script>

<script type="text/javascript" src="Camera.js"></script>
<script type="text/javascript" src="Material.js"></script>
<script type="text/javascript" src="RayTracer.js"></script>
<script type="text/javascript" src="Scene.js"></script>
<script type="text/javascript" src="SceneRenderer.js"></script>
<script type="text/javascript" src="Texture.js"></script>

</body>
</html>


